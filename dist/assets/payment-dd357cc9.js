import{m as ne,h as O,n as R,d as J,p as D,q as Be,v as ae,x as xe,y as _e,F as me,z as Me,A as X,B as Fe,C as Qe,o as A,c as z,b as w,w as W,a as e,D as I,i as n,E as be,t as L,G,e as Re,H as ee,I as ce,J as Te,g as He,K as Ue,s as $e,u as ze,L as K,M as he,N as ye,O as Ke,P as Ge,k as qe,Q as Se}from"./index-5ef231b5.js";import{m as Ye,u as Y,y as Ze,c as Je,l as pe,o as F,f as We,K as Xe,a as et,H as te,T as ke,t as se,N as ve,p as tt,I as lt,b as $}from"./hidden-5c81325f.js";import{b as ot}from"./use-resolve-button-type-eaa9e448.js";import{n as nt}from"./platform-80eef2e2.js";import{_ as at}from"./VInput.vue_vue_type_script_setup_true_lang-98256709.js";import{i as st}from"./index-10f110be.js";function it(t){throw new Error("Unexpected object: "+t)}var M=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(M||{});function ut(t,s){let i=s.resolveItems();if(i.length<=0)return null;let _=s.resolveActiveIndex(),l=_??-1,o=(()=>{switch(t.focus){case 0:return i.findIndex(u=>!s.resolveDisabled(u));case 1:{let u=i.slice().reverse().findIndex((v,p,f)=>l!==-1&&f.length-p-1>=l?!1:!s.resolveDisabled(v));return u===-1?u:i.length-1-u}case 2:return i.findIndex((u,v)=>v<=l?!1:!s.resolveDisabled(u));case 3:{let u=i.slice().reverse().findIndex(v=>!s.resolveDisabled(v));return u===-1?u:i.length-1-u}case 4:return i.findIndex(u=>s.resolveId(u)===t.id);case 5:return null;default:it(t)}})();return o===-1?_:o}function rt({container:t,accept:s,walk:i,enabled:_}){ne(()=>{let l=t.value;if(!l||_!==void 0&&!_.value)return;let o=Ye(t);if(!o)return;let u=Object.assign(p=>s(p),{acceptNode:s}),v=o.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,u,!1);for(;v.nextNode();)i(v.currentNode)})}function Oe(t={},s=null,i=[]){for(let[_,l]of Object.entries(t))Ie(i,Pe(s,_),l);return i}function Pe(t,s){return t?t+"["+s+"]":s}function Ie(t,s,i){if(Array.isArray(i))for(let[_,l]of i.entries())Ie(t,Pe(s,_.toString()),l);else i instanceof Date?t.push([s,i.toISOString()]):typeof i=="boolean"?t.push([s,i?"1":"0"]):typeof i=="string"?t.push([s,i]):typeof i=="number"?t.push([s,`${i}`]):i==null?t.push([s,""]):Oe(i,s,t)}function dt(t,s,i){let _=O(i==null?void 0:i.value),l=R(()=>t.value!==void 0);return[R(()=>l.value?t.value:_.value),function(o){return l.value||(_.value=o),s==null?void 0:s(o)}]}function we(t){return[t.screenX,t.screenY]}function ct(){let t=O([-1,-1]);return{wasMoved(s){let i=we(s);return t.value[0]===i[0]&&t.value[1]===i[1]?!1:(t.value=i,!0)},update(s){t.value=we(s)}}}function pt(t,s){return t===s}var vt=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(vt||{}),ft=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(ft||{}),bt=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(bt||{});let Ve=Symbol("ComboboxContext");function le(t){let s=Fe(Ve,null);if(s===null){let i=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,le),i}return s}let ht=J({name:"Combobox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>pt},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},name:{type:String},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:s,attrs:i,emit:_}){let l=O(1),o=O(null),u=O(null),v=O(null),p=O(null),f=O({static:!1,hold:!1}),k=O([]),T=O(null),V=O(1),N=O(!1);function Q(x=g=>g){let g=T.value!==null?k.value[T.value]:null,a=lt(x(k.value.slice()),m=>F(m.dataRef.domRef)),d=g?a.indexOf(g):null;return d===-1&&(d=null),{options:a,activeOptionIndex:d}}let r=R(()=>t.multiple?1:0),b=R(()=>t.nullable),[y,j]=dt(R(()=>t.modelValue===void 0?Y(r.value,{[1]:[],[0]:void 0}):t.modelValue),x=>_("update:modelValue",x),R(()=>t.defaultValue)),h={comboboxState:l,value:y,mode:r,compare(x,g){if(typeof t.by=="string"){let a=t.by;return(x==null?void 0:x[a])===(g==null?void 0:g[a])}return t.by(x,g)},defaultValue:R(()=>t.defaultValue),nullable:b,inputRef:u,labelRef:o,buttonRef:v,optionsRef:p,disabled:R(()=>t.disabled),options:k,change(x){j(x)},activeOptionIndex:R(()=>{if(N.value&&T.value===null&&k.value.length>0){let x=k.value.findIndex(g=>!g.dataRef.disabled);if(x!==-1)return x}return T.value}),activationTrigger:V,optionsPropsRef:f,closeCombobox(){N.value=!1,!t.disabled&&l.value!==1&&(l.value=1,T.value=null)},openCombobox(){if(N.value=!0,t.disabled||l.value===0)return;let x=k.value.findIndex(g=>{let a=D(g.dataRef.value);return Y(r.value,{[0]:()=>h.compare(D(h.value.value),D(a)),[1]:()=>D(h.value.value).some(d=>h.compare(D(d),D(a)))})});x!==-1&&(T.value=x),l.value=0},goToOption(x,g,a){if(N.value=!1,t.disabled||p.value&&!f.value.static&&l.value===1)return;let d=Q();if(d.activeOptionIndex===null){let C=d.options.findIndex(B=>!B.dataRef.disabled);C!==-1&&(d.activeOptionIndex=C)}let m=ut(x===M.Specific?{focus:M.Specific,id:g}:{focus:x},{resolveItems:()=>d.options,resolveActiveIndex:()=>d.activeOptionIndex,resolveId:C=>C.id,resolveDisabled:C=>C.dataRef.disabled});T.value=m,V.value=a??1,k.value=d.options},selectOption(x){let g=k.value.find(d=>d.id===x);if(!g)return;let{dataRef:a}=g;j(Y(r.value,{[0]:()=>a.value,[1]:()=>{let d=D(h.value.value).slice(),m=D(a.value),C=d.findIndex(B=>h.compare(m,D(B)));return C===-1?d.push(m):d.splice(C,1),d}}))},selectActiveOption(){if(h.activeOptionIndex.value===null)return;let{dataRef:x,id:g}=k.value[h.activeOptionIndex.value];j(Y(r.value,{[0]:()=>x.value,[1]:()=>{let a=D(h.value.value).slice(),d=D(x.value),m=a.findIndex(C=>h.compare(d,D(C)));return m===-1?a.push(d):a.splice(m,1),a}})),h.goToOption(M.Specific,g)},registerOption(x,g){let a={id:x,dataRef:g},d=Q(m=>[...m,a]);if(T.value===null){let m=g.value.value;Y(r.value,{[0]:()=>h.compare(D(h.value.value),D(m)),[1]:()=>D(h.value.value).some(C=>h.compare(D(C),D(m)))})&&(d.activeOptionIndex=d.options.indexOf(a))}k.value=d.options,T.value=d.activeOptionIndex,V.value=1},unregisterOption(x){var g;h.activeOptionIndex.value!==null&&((g=h.options.value[h.activeOptionIndex.value])==null?void 0:g.id)===x&&(N.value=!0);let a=Q(d=>{let m=d.findIndex(C=>C.id===x);return m!==-1&&d.splice(m,1),d});k.value=a.options,T.value=a.activeOptionIndex,V.value=1}};Ze([u,v,p],()=>h.closeCombobox(),R(()=>l.value===0)),Be(Ve,h),Je(R(()=>Y(l.value,{[0]:pe.Open,[1]:pe.Closed})));let U=R(()=>h.activeOptionIndex.value===null?null:k.value[h.activeOptionIndex.value].dataRef.value),E=R(()=>{var x;return(x=F(u))==null?void 0:x.closest("form")});return ae(()=>{xe([E],()=>{if(!E.value||t.defaultValue===void 0)return;function x(){h.change(t.defaultValue)}return E.value.addEventListener("reset",x),()=>{var g;(g=E.value)==null||g.removeEventListener("reset",x)}},{immediate:!0})}),()=>{let{name:x,disabled:g,...a}=t,d={open:l.value===0,disabled:g,activeIndex:h.activeOptionIndex.value,activeOption:U.value,value:y.value};return _e(me,[...x!=null&&y.value!=null?Oe({[x]:y.value}).map(([m,C])=>_e(We,Xe({features:et.Hidden,key:m,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:m,value:C}))):[],te({theirProps:{...i,...ke(a,["modelValue","defaultValue","nullable","multiple","onUpdate:modelValue","by"])},ourProps:{},slot:d,slots:s,attrs:i,name:"Combobox"})])}}});J({name:"ComboboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:()=>`headlessui-combobox-label-${se()}`}},setup(t,{attrs:s,slots:i}){let _=le("ComboboxLabel");function l(){var o;(o=F(_.inputRef))==null||o.focus({preventScroll:!0})}return()=>{let o={open:_.comboboxState.value===0,disabled:_.disabled.value},{id:u,...v}=t,p={id:u,ref:_.labelRef,onClick:l};return te({ourProps:p,theirProps:v,slot:o,attrs:s,slots:i,name:"ComboboxLabel"})}}});let de=J({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-combobox-button-${se()}`}},setup(t,{attrs:s,slots:i,expose:_}){let l=le("ComboboxButton");_({el:l.buttonRef,$el:l.buttonRef});function o(p){l.disabled.value||(l.comboboxState.value===0?l.closeCombobox():(p.preventDefault(),l.openCombobox()),X(()=>{var f;return(f=F(l.inputRef))==null?void 0:f.focus({preventScroll:!0})}))}function u(p){switch(p.key){case $.ArrowDown:p.preventDefault(),p.stopPropagation(),l.comboboxState.value===1&&l.openCombobox(),X(()=>{var f;return(f=l.inputRef.value)==null?void 0:f.focus({preventScroll:!0})});return;case $.ArrowUp:p.preventDefault(),p.stopPropagation(),l.comboboxState.value===1&&(l.openCombobox(),X(()=>{l.value.value||l.goToOption(M.Last)})),X(()=>{var f;return(f=l.inputRef.value)==null?void 0:f.focus({preventScroll:!0})});return;case $.Escape:if(l.comboboxState.value!==0)return;p.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&p.stopPropagation(),l.closeCombobox(),X(()=>{var f;return(f=l.inputRef.value)==null?void 0:f.focus({preventScroll:!0})});return}}let v=ot(R(()=>({as:t.as,type:s.type})),l.buttonRef);return()=>{var p,f;let k={open:l.comboboxState.value===0,disabled:l.disabled.value,value:l.value.value},{id:T,...V}=t,N={ref:l.buttonRef,id:T,type:v.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(p=F(l.optionsRef))==null?void 0:p.id,"aria-expanded":l.disabled.value?void 0:l.comboboxState.value===0,"aria-labelledby":l.labelRef.value?[(f=F(l.labelRef))==null?void 0:f.id,T].join(" "):void 0,disabled:l.disabled.value===!0?!0:void 0,onKeydown:u,onClick:o};return te({ourProps:N,theirProps:V,slot:k,attrs:s,slots:i,name:"ComboboxButton"})}}}),Ce=J({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:()=>`headlessui-combobox-input-${se()}`}},emits:{change:t=>!0},setup(t,{emit:s,attrs:i,slots:_,expose:l}){let o=le("ComboboxInput"),u={value:!1};l({el:o.inputRef,$el:o.inputRef});let v=R(()=>{var r;let b=o.value.value;return F(o.inputRef)?typeof t.displayValue<"u"&&b!==void 0?(r=t.displayValue(b))!=null?r:"":typeof b=="string"?b:"":""});ae(()=>{xe([v,o.comboboxState],([r,b],[y,j])=>{if(u.value)return;let h=F(o.inputRef);h&&(j===0&&b===1||r!==y)&&(h.value=r)},{immediate:!0}),xe([o.comboboxState],([r],[b])=>{if(r===0&&b===1){let y=F(o.inputRef);if(!y)return;let j=y.value,{selectionStart:h,selectionEnd:U,selectionDirection:E}=y;y.value="",y.value=j,E!==null?y.setSelectionRange(h,U,E):y.setSelectionRange(h,U)}})});let p=O(!1);function f(){p.value=!0}function k(){setTimeout(()=>{p.value=!1})}function T(r){switch(u.value=!0,r.key){case $.Backspace:case $.Delete:if(o.mode.value!==0||!o.nullable.value)return;let b=r.currentTarget;requestAnimationFrame(()=>{if(b.value===""){o.change(null);let y=F(o.optionsRef);y&&(y.scrollTop=0),o.goToOption(M.Nothing)}});break;case $.Enter:if(u.value=!1,o.comboboxState.value!==0||p.value)return;if(r.preventDefault(),r.stopPropagation(),o.activeOptionIndex.value===null){o.closeCombobox();return}o.selectActiveOption(),o.mode.value===0&&o.closeCombobox();break;case $.ArrowDown:return u.value=!1,r.preventDefault(),r.stopPropagation(),Y(o.comboboxState.value,{[0]:()=>o.goToOption(M.Next),[1]:()=>o.openCombobox()});case $.ArrowUp:return u.value=!1,r.preventDefault(),r.stopPropagation(),Y(o.comboboxState.value,{[0]:()=>o.goToOption(M.Previous),[1]:()=>{o.openCombobox(),X(()=>{o.value.value||o.goToOption(M.Last)})}});case $.Home:if(r.shiftKey)break;return u.value=!1,r.preventDefault(),r.stopPropagation(),o.goToOption(M.First);case $.PageUp:return u.value=!1,r.preventDefault(),r.stopPropagation(),o.goToOption(M.First);case $.End:if(r.shiftKey)break;return u.value=!1,r.preventDefault(),r.stopPropagation(),o.goToOption(M.Last);case $.PageDown:return u.value=!1,r.preventDefault(),r.stopPropagation(),o.goToOption(M.Last);case $.Escape:if(u.value=!1,o.comboboxState.value!==0)return;r.preventDefault(),o.optionsRef.value&&!o.optionsPropsRef.value.static&&r.stopPropagation(),o.closeCombobox();break;case $.Tab:if(u.value=!1,o.comboboxState.value!==0)return;o.mode.value===0&&o.selectActiveOption(),o.closeCombobox();break}}function V(r){o.openCombobox(),s("change",r)}function N(){u.value=!1}let Q=R(()=>{var r,b,y,j;return(j=(y=(b=t.defaultValue)!=null?b:o.defaultValue.value!==void 0?(r=t.displayValue)==null?void 0:r.call(t,o.defaultValue.value):null)!=null?y:o.defaultValue.value)!=null?j:""});return()=>{var r,b,y,j,h,U;let E={open:o.comboboxState.value===0},{id:x,displayValue:g,onChange:a,...d}=t,m={"aria-controls":(r=o.optionsRef.value)==null?void 0:r.id,"aria-expanded":o.disabled.value?void 0:o.comboboxState.value===0,"aria-activedescendant":o.activeOptionIndex.value===null||(b=o.options.value[o.activeOptionIndex.value])==null?void 0:b.id,"aria-labelledby":(h=(y=F(o.labelRef))==null?void 0:y.id)!=null?h:(j=F(o.buttonRef))==null?void 0:j.id,"aria-autocomplete":"list",id:x,onCompositionstart:f,onCompositionend:k,onKeydown:T,onInput:V,onBlur:N,role:"combobox",type:(U=i.type)!=null?U:"text",tabIndex:0,ref:o.inputRef,defaultValue:Q.value};return te({ourProps:m,theirProps:d,slot:E,attrs:i,slots:_,features:ve.RenderStrategy|ve.Static,name:"ComboboxInput"})}}}),xt=J({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(t,{attrs:s,slots:i,expose:_}){let l=le("ComboboxOptions"),o=`headlessui-combobox-options-${se()}`;_({el:l.optionsRef,$el:l.optionsRef}),ne(()=>{l.optionsPropsRef.value.static=t.static}),ne(()=>{l.optionsPropsRef.value.hold=t.hold});let u=tt(),v=R(()=>u!==null?(u.value&pe.Open)===pe.Open:l.comboboxState.value===0);return rt({container:R(()=>F(l.optionsRef)),enabled:R(()=>l.comboboxState.value===0),accept(p){return p.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}}),()=>{var p,f,k;let T={open:l.comboboxState.value===0},V={"aria-labelledby":(k=(p=F(l.labelRef))==null?void 0:p.id)!=null?k:(f=F(l.buttonRef))==null?void 0:f.id,id:o,ref:l.optionsRef,role:"listbox","aria-multiselectable":l.mode.value===1?!0:void 0},N=ke(t,["hold"]);return te({ourProps:V,theirProps:N,slot:T,attrs:s,slots:i,features:ve.RenderStrategy|ve.Static,visible:v.value,name:"ComboboxOptions"})}}}),mt=J({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(t,{slots:s,attrs:i,expose:_}){let l=le("ComboboxOption"),o=`headlessui-combobox-option-${se()}`,u=O(null);_({el:u,$el:u});let v=R(()=>l.activeOptionIndex.value!==null?l.options.value[l.activeOptionIndex.value].id===o:!1),p=R(()=>Y(l.mode.value,{[0]:()=>l.compare(D(l.value.value),D(t.value)),[1]:()=>D(l.value.value).some(b=>l.compare(D(b),D(t.value)))})),f=R(()=>({disabled:t.disabled,value:t.value,domRef:u}));ae(()=>l.registerOption(o,f)),Me(()=>l.unregisterOption(o)),ne(()=>{l.comboboxState.value===0&&v.value&&l.activationTrigger.value!==0&&X(()=>{var b,y;return(y=(b=F(u))==null?void 0:b.scrollIntoView)==null?void 0:y.call(b,{block:"nearest"})})});function k(b){if(t.disabled)return b.preventDefault();l.selectOption(o),l.mode.value===0&&l.closeCombobox(),nt()||requestAnimationFrame(()=>{var y;return(y=F(l.inputRef))==null?void 0:y.focus()})}function T(){if(t.disabled)return l.goToOption(M.Nothing);l.goToOption(M.Specific,o)}let V=ct();function N(b){V.update(b)}function Q(b){V.wasMoved(b)&&(t.disabled||v.value||l.goToOption(M.Specific,o,0))}function r(b){V.wasMoved(b)&&(t.disabled||v.value&&(l.optionsPropsRef.value.hold||l.goToOption(M.Nothing)))}return()=>{let{disabled:b}=t,y={active:v.value,selected:p.value,disabled:b},j={id:o,ref:u,role:"option",tabIndex:b===!0?void 0:-1,"aria-disabled":b===!0?!0:void 0,"aria-selected":p.value,disabled:void 0,onClick:k,onFocus:T,onPointerenter:N,onMouseenter:N,onPointermove:Q,onMousemove:Q,onPointerleave:r,onMouseleave:r};return te({ourProps:j,theirProps:t,slot:y,attrs:i,slots:s,name:"ComboboxOption"})}}});const gt={class:"relative"},_t={class:"relative w-full cursor-default overflow-hidden !rounded-xl !border-2 border-gray-200"},yt={key:0,class:"relative cursor-default select-none px-4 py-2 text-gray-700"},St=J({__name:"VSelect",props:{options:{default:()=>[]},type:{default:"dropdown"},size:{default:"small"},model:null,placeholder:{default:"Choose"},disabled:{type:Boolean},tooltip:null,notFoundLabel:{default:"Nothing found."},inputClass:null},emits:["update:model"],setup(t,{emit:s}){const i=t,{placeholder:_,options:l,size:o,inputClass:u,model:v,disabled:p}=Qe(i),f=O(""),k=O(""),T=O(""),V=R(()=>{if(T.value){const a=T.value.toString().toLowerCase().trim();return l.value.filter(m=>m.label.toLowerCase().trim().includes(a)&&m.value!==null)}else return l.value}),N=R(()=>a=>{const d=l.value.find(m=>m.value===a);return d?d.label:""}),Q=R(()=>{const a=[];switch(o.value){case"medium":a.push("h-9");break;case"large":a.push("h-10");break;case"small":default:a.push("h-8 text-sm");break}return p.value&&a.push("disabled"),a.join(" ")}),r=R(()=>(a,d)=>V.value[a].label===_.value?"hidden":d?"bg-primary text-white":""),b=R(()=>a=>a?"font-bold":"font-normal"),y=R(()=>a=>a?"text-white":"text-primary"),j=R(()=>a=>a?"rotate-180 opacity-60":"opacity-60"),h=R(()=>a=>(a,"border-none ")),U=R(()=>p.value?"bg-slate-100 opacity-60":"");ne(()=>{v!=null&&v.value&&(f.value=v.value)}),ae(()=>{v!=null&&v.value&&(f.value=v.value)});function E(a,d){T.value="";const m=d==null?void 0:d.currentTarget;a&&m&&(m.value=""),k.value=f.value,!f.value&&f.value!==0?s("update:model",void 0):s("update:model",f.value)}function x(){T.value=""}function g(a){const d=a.target;T.value=d.value,T.value||(f.value="",s("update:model",void 0))}return(a,d)=>{const m=Te;return A(),z("div",{class:I(n(u))},[w(n(ht),{modelValue:n(f),"onUpdate:modelValue":d[0]||(d[0]=C=>ce(f)?f.value=C:null)},{default:W(({open:C})=>[e("div",gt,[e("div",_t,[t.type==="combobox"?(A(),z("div",{key:0,class:I(["flex flex-row justify-between bg-white text-sm leading-5 text-gray-900",n(h)(C)])},[w(n(de),{class:"w-full border-none outline-none ring-0",disabled:n(p),onClick:x},{default:W(()=>[w(n(Ce),{class:I(["w-full border border-r-0 placeholder-slate-400 focus:ring-0",[n(h)(C),n(Q)]]),placeholder:n(_),disabled:n(p),displayValue:B=>n(N)(B),title:t.tooltip,onChange:g,onKeydown:[be(B=>E(C,B),["enter"]),be(B=>E(C,B),["esc"]),be(B=>E(C,B),["tab"])]},null,8,["class","placeholder","disabled","displayValue","title","onKeydown"])]),_:2},1032,["disabled"]),w(n(de),{class:I(["border border-l-0 outline-none",n(h)(C)]),disabled:n(p)},{default:W(()=>[e("div",{class:I(["flex h-full items-center pr-1",n(U)])},[w(m,{icon:"fa-chevron-down","icon-class":n(j)(C)},null,8,["icon-class"])],2)]),_:2},1032,["class","disabled"])],2)):(A(),z("div",{key:1,class:I(["flex flex-row justify-between bg-white text-sm leading-5 text-gray-900",n(h)(C)])},[w(n(de),{disabled:n(p),class:"w-full border-none outline-none"},{default:W(()=>[w(n(Ce),{class:I(["w-full border border-r-0 placeholder-slate-400",[n(h)(C),n(Q)]]),placeholder:n(_),displayValue:B=>n(N)(B),disabled:!0,title:t.tooltip},null,8,["class","placeholder","displayValue","title"])]),_:2},1032,["disabled"]),w(n(de),{class:I(["border border-l-0 outline-none",n(h)(C)]),disabled:n(p)},{default:W(()=>[e("div",{class:I(["flex h-full items-center pr-1",n(U)])},[w(m,{icon:"fa-chevron-down","icon-class":n(j)(C)},null,8,["icon-class"])],2)]),_:2},1032,["class","disabled"])],2))]),w(n(xt),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-left text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:W(()=>[n(V).length===0?(A(),z("div",yt,L(t.notFoundLabel),1)):G("",!0),(A(!0),z(me,null,Re(n(V),(B,ie)=>(A(),ee(n(mt),{key:ie,as:"template",value:B.value,onClick:E},{default:W(({selected:ue,active:re})=>[e("li",{class:I(["relative cursor-default select-none px-3 py-2 text-gray-900",n(r)(ie,re)])},[e("span",{class:I(["block truncate",n(b)(ue)])},L(B.label),3),ue?(A(),z("span",{key:0,class:I(["absolute inset-y-0 right-1 flex items-center",n(y)(re)])},[w(m,{icon:"fa-check"})],2)):G("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})])]),_:1},8,["modelValue"])],2)}}}),wt={class:"flex"},Ct=e("div",{class:"hidden flex-1 lg:flex"},null,-1),Rt={class:"flex flex-1 flex-col px-2 py-4"},Tt={class:"flex flex-1 flex-col gap-12"},kt={class:"flex"},Ot=e("span",{class:"flex flex-1 justify-center text-xl font-bold text-main"},[e("p",{class:"-ml-16"},"Giỏ hàng")],-1),Pt={class:"flex flex-col"},It={class:"-mb-2 flex h-24 rounded-t-xl bg-red-100/50"},Vt={class:"flex flex-1 items-center justify-center"},Nt={class:"flex-col"},Dt={class:"mx-auto flex h-10 w-10 items-center justify-center rounded-full border border-main text-lg text-main"},jt=e("p",{class:"text-center text-xs text-main"},"Chọn sản phẩm",-1),Et=e("div",{class:"flex flex-[0.2] items-center text-main"},"---",-1),Lt={class:"flex flex-1 items-center justify-center"},At={class:"flex-col"},Bt={class:"mx-auto flex h-10 w-10 items-center justify-center rounded-full border border-main text-lg text-main"},Mt=e("p",{class:"text-center text-xs text-main"},"Thông tin đặt hàng",-1),Ft={class:"flex flex-1 items-center justify-center"},Qt={class:"flex-col"},Ht={class:"flex flex-1 items-center justify-center"},Ut={class:"flex-col"},$t={key:0,class:"z-1 flex flex-col gap-3 rounded-2xl border bg-white p-2 shadow-xl"},zt={class:"flex items-center gap-2"},Kt=e("label",{for:"pickup"},"Nhận tại cửa hàng ",-1),Gt=e("label",{for:"delivery"},"Giao hàng tận nơi ",-1),qt={class:"flex flex-col gap-2 rounded-lg bg-gray-200/70 p-3"},Yt={class:"flex gap-2"},Zt={class:"flex-1"},Jt={class:"flex-1"},Wt={class:"flex-1"},Xt={class:"flex items-center gap-2"},el=e("label",{class:"cursor-pointer",for:"company"}," Yêu cầu xuất hóa đơn công ty (Vui lòng điền email để nhận hoá đơn VAT)",-1),tl=e("p",{class:"italic text-main/70"}," (Với đơn hàng trên 20 triệu vui lòng thanh toán chuyển khoản từ tài khoản công ty khi cần xuất VAT cho công ty) ",-1),ll={key:1,class:"z-1 flex flex-col gap-3 rounded-2xl border bg-white p-2 shadow-xl"},ol={class:"flex flex-col gap-3 rounded-2xl border p-3 shadow-xl"},nl={class:"flex justify-center"},al={class:"flex gap-3"},sl={class:"flex gap-3"},il={class:"flex gap-3"},ul={class:"flex gap-3"},rl={class:"flex gap-3"},dl=e("span",{class:"font-bold"},"Nhận Sản Phẩm Tại: ",-1),cl={key:0},pl={class:"flex gap-3"},vl={class:"font-bold text-main"},fl={class:"flex p-4"},bl={class:"flex flex-col gap-3"},hl={class:"flex gap-2"},xl=e("div",{class:"flex-col"},[e("span",{class:"text-xs font-bold"},"Thanh toán tại cửa hàng"),e("img",{class:"mx-auto",src:"",alt:""})],-1),ml=[xl],gl=e("div",{class:"flex-col"},[e("span",{class:"text-xs font-bold"},"Thanh toán chuyển khoản"),e("img",{class:"mx-auto",src:"",alt:""})],-1),_l=[gl],yl={class:"flex gap-2"},Sl=e("div",{class:"flex-col"},[e("span",{class:"text-xs font-bold"},"Thanh toán tại cửa hàng"),e("img",{class:"mx-auto",src:"",alt:""})],-1),wl=[Sl],Cl=e("div",{class:"flex-col"},[e("span",{class:"text-xs font-bold"},"Thanh toán chuyển khoản"),e("img",{class:"mx-auto",src:"",alt:""})],-1),Rl=[Cl],Tl={class:"flex gap-2"},kl=e("div",{class:"flex-col"},[e("span",{class:"text-xs font-bold"},"Thanh toán tại cửa hàng"),e("img",{class:"mx-auto",src:"",alt:""})],-1),Ol=[kl],Pl=e("div",{class:"flex-col"},[e("span",{class:"text-xs font-bold"},"Thanh toán chuyển khoản"),e("img",{class:"mx-auto",src:"",alt:""})],-1),Il=[Pl],Vl={key:2,class:"z-1 flex flex-col gap-6 rounded-2xl border bg-white p-2 shadow-xl"},Nl=e("div",{class:"flex"},[e("p",null,[K(" Cảm ơn Quý khách hàng đã chọn mua hàng tại CellphoneS. Trong 15 phút, CellphoneS sẽ SMS hoặc gọi để xác nhận đơn hàng. "),e("br"),K(" * Các đơn hàng từ 21h30 tối tới 8h sáng hôm sau. CellphoneS sẽ liên hệ với Quý khách trước 10h trưa cùng ngày ")])],-1),Dl={class:"flex flex-col gap-3 rounded-2xl border bg-[#E4EDDA] p-3 shadow-xl"},jl={class:"flex flex-col gap-2 text-lg"},El=e("div",{class:"flex justify-center"},[e("span",{class:"!text-lg font-bold !text-[#155724]"},"ĐẶT HÀNG THÀNH CÔNG")],-1),Ll={class:"!text-lg font-bold !text-[#155724]"},Al={class:"!text-lg font-bold !text-[#155724]"},Bl={class:"!text-lg font-bold !text-[#155724]"},Ml={class:"!text-lg font-bold !text-[#155724]"},Fl={class:"!text-lg font-bold !text-[#155724]"},Ql={class:"!text-lg font-bold !text-[#155724]"},Hl={class:"flex flex-col gap-3 rounded-2xl border px-5 py-3 shadow-xl"},Ul=["src"],$l={class:"flex flex-col"},zl={class:"text-lg font-bold"},Kl={class:"flex gap-1"},Gl={class:"font-bold"},ql={class:"font-gray-400 line-through"},Yl={class:""},Zl={class:"font-bold"},Jl={class:""},Wl={class:"font-bold"},Xl={class:"flex flex-col justify-center gap-4"},eo={class:"flex gap-2"},to={key:0,class:"flex flex-col justify-center gap-4 rounded-lg border p-2 shadow-lg"},lo={class:"flex flex-1 justify-between"},oo=e("span",{class:"font-bold"},"Tổng tiền tạm tính:",-1),no={class:"font-bold text-main"},ao=e("div",{class:"hidden flex-1 lg:flex"},null,-1),so=J({__name:"payment",setup(t){const s=He();Ue();const{isLoginSuccess:i}=$e(s),_=ze(),l=O([]),o=O("pickup"),u=O(!1),v=O(0),p=O(0),f=O(0),k=O(""),T=O(""),V=O(""),N=O(""),Q=O(""),r=O(""),b=O("");let y=0;const j=[{label:"Hồ Chí Minh",value:0}],h=[{label:"134 Nguyễn Thái Học, P. Phạm Ngũ Lão, Quận 1",value:1},{label:"218-221 Trần Quang Khải, Phường Tân Định, Quận 1",value:1},{label:"157-159 Nguyễn Thị Minh Khai, P. Phạm Ngũ Lão, Quận 1",value:1},{label:"55B Trần Quang Khải, P. Tân Định, Quận 1",value:1}],U=[{label:"Quận 1",value:1},{label:"Quận 2",value:2},{label:"Quận 3",value:3},{label:"Quận 4",value:4},{label:"Quận 5",value:5},{label:"Quận 6",value:6},{label:"Quận 7",value:7},{label:"Quận 8",value:8},{label:"Quận 9",value:9},{label:"Quận 10",value:10},{label:"Quận 11",value:11},{label:"Quận 12",value:12},{label:"Gò Vấp",value:13},{label:"Tân Phú",value:14},{label:"Phú Nhuận",value:15},{label:"Tân Bình",value:16},{label:"Bình Tân",value:17}];ae(async()=>{const c=await s.getCustomer(i.value);c[0]&&(l.value=c[0].cart,l.value.forEach(S=>{S.price=S.priceRRP-S.priceRRP*(S.discount/100)}),g.value==="0 ₫"&&_.push("/")),window.scrollTo(0,0)});const E=R(()=>c=>p.value===c?"border-main border":""),x=R(()=>{let c=0;for(let H=0;H<U.length;H++)N.value===`Quận ${H}`&&(c=H);return h.filter(H=>H.value===c)}),g=R(()=>(l.value.forEach(c=>{y+=Number(c.price*c.quantity)}),new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(y)));async function a(c){await _.push(`/${c}`)}function d(){let c="";v.value===0&&(je(10),o.value==="delivery"&&!r.value&&(c="Vui lòng chọn địa chỉ"),o.value==="pickup"&&!Q.value&&(c="Vui lòng chọn địa chỉ"),N.value||(c="Vui lòng chọn quận,huyện"),V.value||(c="Vui lòng chọn thành phố"),Ae(k.value)||(c="Sai định dạng họ tên"),Le(T.value)||(c="Sai định dạng email"),Ee(f.value)||(c="Sai định dạng SĐT"),f.value||(c="Vui lòng nhập SĐT"),k.value||(c="Vui lòng nhập họ tên"),c===""&&(v.value=1),ge(c)),v.value===1&&(p.value===0?ge("Vui lòng chọn phương thức thanh toán"):v.value=2)}function m(c){p.value=c}function C(c){k.value=c}function B(c){f.value=c}function ie(c){T.value=c}function ue(c){V.value=j[c].label}function re(c){N.value=U[c-1].label}function Ne(c){Q.value=h[c].label}function De(c){r.value=c}function je(c){b.value="";const S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let H=0;H<c;H++)b.value+=S.charAt(Math.floor(Math.random()*S.length))}function Ee(c){return/^0\d{9}$/.test(c.toString())}function Le(c){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(c)}function Ae(c){return/[\w]{2,}/g.test(c)}const ge=c=>{c!==""&&st(`${c}`,{})};return(c,S)=>{const H=Te,q=Ge,Z=at,fe=St,oe=qe;return A(),z("main",wt,[Ct,e("div",Rt,[e("div",Tt,[e("div",kt,[e("span",{class:"flex cursor-pointer items-start font-bold text-main",onClick:S[0]||(S[0]=P=>a("cart"))},[w(H,{size:"text-[20px]",icon:"fa-angle-left"}),K(" Trở về ")]),Ot]),e("div",Pt,[e("div",It,[e("div",Vt,[e("div",Nt,[e("div",Dt,[w(H,{icon:"fa-shopping-cart"})]),jt])]),Et,e("div",Lt,[e("div",At,[e("div",Bt,[w(H,{icon:"fa-address-card"})]),Mt])]),e("div",{class:I(["flex flex-[0.2] items-center",n(v)>0?"text-main":""])},"---",2),e("div",Ft,[e("div",Qt,[e("div",{class:I([n(v)>0?"!border-main !text-main":"","mx-auto flex h-10 w-10 items-center justify-center rounded-full border border-black/40 text-lg text-black/40"])},[w(H,{icon:"fa-credit-card-alt"})],2),e("p",{class:I([n(v)>0?"text-main":"","text-center text-xs"])},"Thanh toán",2)])]),e("div",{class:I(["flex flex-[0.2] items-center",n(v)>1?"text-main":""])},"---",2),e("div",Ht,[e("div",Ut,[e("div",{class:I([n(v)>1?"!border-main !text-main":"","mx-auto flex h-10 w-10 items-center justify-center rounded-full border border-black/40 text-lg text-black/40"])},[w(H,{icon:"fa-archive"})],2),e("p",{class:I(["text-center text-xs",n(v)>1?"text-main":""])},"Hoàn tất đặt hàng",2)])])]),n(v)===0?(A(),z("div",$t,[w(q,{title:"Thông tin khách hàng"}),w(Z,{model:n(k),placeholder:"Họ và tên(bắc buộc)","input-class":"rounded-lg !h-10","onUpdate:model":C},null,8,["model"]),w(Z,{model:n(f),"max-length":10,placeholder:"Số điện thoại(bắt buộc)","input-class":"rounded-lg !h-10","onUpdate:model":B},null,8,["model"]),w(Z,{model:n(T),placeholder:"Email (Bắt buộc điền email để nhận hóa đơn VAT)","input-class":"rounded-lg !h-10","onUpdate:model":ie},null,8,["model"]),w(q,{title:"Chọn cách thức giao hàng"}),e("form",zt,[he(e("input",{id:"pickup","onUpdate:modelValue":S[1]||(S[1]=P=>ce(o)?o.value=P:null),checked:!0,name:"deliveryMode",class:"text-main",type:"radio",value:"pickup"},null,512),[[ye,n(o)]]),Kt,he(e("input",{id:"delivery","onUpdate:modelValue":S[2]||(S[2]=P=>ce(o)?o.value=P:null),name:"deliveryMode",class:"text-main",type:"radio",value:"delivery"},null,512),[[ye,n(o)]]),Gt]),e("div",qt,[e("div",Yt,[e("div",Zt,[w(fe,{options:j,"input-class":"rounded-xl",placeholder:"Thành phố/Tỉnh",size:"large","onUpdate:model":ue})]),e("div",Jt,[w(fe,{options:U,"input-class":"rounded-xl",placeholder:"Quận/Huyện",size:"large","onUpdate:model":re})])]),e("div",Wt,[n(o)==="pickup"?(A(),ee(fe,{key:0,options:n(x),"input-class":"rounded-xl",placeholder:"Chọn địa chỉ cửa hàng",size:"large","onUpdate:model":Ne},null,8,["options"])):(A(),ee(Z,{key:1,"input-class":"rounded-xl !h-11",size:"large",placeholder:"Số nhà,tên đường","onUpdate:model":De}))])]),w(Z,{placeholder:"Yêu cầu khác","input-class":"rounded-lg !h-10"}),e("div",Xt,[he(e("input",{id:"company","onUpdate:modelValue":S[3]||(S[3]=P=>ce(u)?u.value=P:null),class:"text-main",type:"checkbox"},null,512),[[Ke,n(u)]]),el]),tl,n(u)?(A(),ee(Z,{key:0,placeholder:"Tên công ty","input-class":"rounded-lg !h-10"})):G("",!0),n(u)?(A(),ee(Z,{key:1,placeholder:"Địa chỉ công ty","input-class":"rounded-lg !h-10"})):G("",!0),n(u)?(A(),ee(Z,{key:2,placeholder:"Mã số thuế","input-class":"rounded-lg !h-10"})):G("",!0)])):G("",!0),n(v)===1?(A(),z("div",ll,[e("div",ol,[e("div",nl,[w(q,{title:"THÔNG TIN ĐẶT HÀNG"})]),e("div",al,[w(q,{title:"Mã Đơn Hàng: "}),e("p",null,L(n(b)),1)]),e("div",sl,[w(q,{title:"Người Đặt: "}),e("p",null,L(n(k)),1)]),e("div",il,[w(q,{title:"Số Điện Thoại: "}),e("p",null,L(n(f)),1)]),e("div",ul,[w(q,{title:"Email: "}),e("p",null,L(n(T)),1)]),e("div",rl,[e("p",null,[dl,K(L(n(r)||n(Q))+" ",1),n(o)!=="pickup"?(A(),z("span",cl,L(", "+n(N)+", "+n(V)),1)):G("",!0)])]),e("div",pl,[w(q,{title:"Tổng Tiền: "}),e("p",vl,L(n(g)),1)])]),e("div",fl,[w(q,{title:"Chọn hình thức thanh toán"})]),e("div",bl,[e("div",hl,[e("div",{class:I(["flex flex-1 cursor-pointer justify-center rounded-xl border p-4 shadow-lg",n(E)(1)]),onClick:S[4]||(S[4]=P=>m(1))},ml,2),e("div",{class:I(["flex flex-1 cursor-pointer justify-center rounded-xl border p-4 shadow-lg",n(E)(2)]),onClick:S[5]||(S[5]=P=>m(2))},_l,2)]),e("div",yl,[e("div",{class:I(["flex flex-1 cursor-pointer justify-center rounded-xl border p-4 shadow-lg",n(E)(3)]),onClick:S[6]||(S[6]=P=>m(3))},wl,2),e("div",{class:I(["flex flex-1 cursor-pointer justify-center rounded-xl border p-4 shadow-lg",n(E)(4)]),onClick:S[7]||(S[7]=P=>m(4))},Rl,2)]),e("div",Tl,[e("div",{class:I(["flex flex-1 cursor-pointer justify-center rounded-xl border p-4 shadow-lg",n(E)(5)]),onClick:S[8]||(S[8]=P=>m(5))},Ol,2),e("div",{class:I(["flex flex-1 cursor-pointer justify-center rounded-xl border p-4 shadow-lg",n(E)(6)]),onClick:S[9]||(S[9]=P=>m(6))},Il,2)])])])):G("",!0),n(v)===2?(A(),z("div",Vl,[Nl,e("div",Dl,[e("div",jl,[El,e("span",null,[K(" Mã Đơn Hàng:"),e("span",Ll,L(n(b)),1)]),e("span",null,[K(" Người Đặt: "),e("span",Al,L(n(k)),1)]),e("span",null,[K(" Số Điện Thoại: "),e("span",Bl,L(n(f)),1)]),e("span",null,[K(" Nhận Sản Phẩm Tại:"),e("span",Ml,L(`${n(r)||n(Q),n(N),n(V)}`),1)]),e("span",null,[K(" Hình Thức Thanh Toán:"),e("span",Fl,L(n(p)),1)]),e("span",null,[K(" Tổng Tiền: "),e("span",Ql,L(n(g)),1)])])]),e("div",Hl,[(A(!0),z(me,null,Re(n(l),P=>(A(),z("div",{key:P._id,class:"flex gap-4 border-b-2"},[e("img",{src:P.imageLink,class:"h-24 w-24",alt:""},null,8,Ul),e("div",$l,[e("p",zl,L(P.name),1),e("span",Kl,[K(" Giá: "),e("span",Gl,L(Math.round(P.priceRRP-P.priceRRP*P.discount/100))+"₫",1),e("span",ql,L(P.priceRRP)+"₫",1)]),e("p",Yl,[K(" Số lượng: "),e("span",Zl,L(P.quantity),1)]),e("p",Jl,[K(" Tổng tiền: "),e("span",Wl,L(Math.round((P.priceRRP-P.priceRRP*P.discount/100)*P.quantity))+" ₫ ",1)])])]))),128))]),e("div",Xl,[e("div",eo,[w(oe,{"input-class":"!h-16 w-full !font-bold !bg-[#007BFF] !text-white border-none !rounded-xl text-[16px] !font-bold",label:"Kiểm tra đơn hàng "}),w(oe,{"input-class":"!h-16 w-full !font-bold !border-main !text-white !rounded-xl !bg-main",label:"Tiếp tục mua hàng ",onClick:S[10]||(S[10]=P=>n(_).push("/"))})]),w(oe,{"input-class":"!border-none !text-white !font-bold  w-full bg-[#28A745] !h-10 !rounded-xl !text-main",label:"Góp ý về trải nghiệm trong việc đặt hàng và thanh toán"})])])):G("",!0)]),n(v)!==2?(A(),z("div",to,[e("div",lo,[oo,e("span",no,L(n(g)),1)]),w(oe,{"input-class":"!h-16 w-full !bg-main border-none rounded text-[16px] !font-bold",label:"TIẾP TỤC",onClick:d}),w(oe,{variant:"outlined","input-class":"!h-16 w-full !border-main !text-main rounded hover:!bg-main/70 hover:!text-white !text-[16px] !font-bold active:bg-main/70",label:"CHỌN THÊM SẢN PHẨM KHÁC",onClick:S[11]||(S[11]=P=>a(""))})])):G("",!0)])]),ao])}}});typeof Se=="function"&&Se(so);export{so as default};
