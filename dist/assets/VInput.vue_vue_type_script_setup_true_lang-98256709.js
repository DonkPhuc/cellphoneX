import{d as R,C as z,h as v,n as m,m as G,o as b,c as g,a as O,D as y,i as c,b as S,G as D,J as F}from"./index-5ef231b5.js";const T=["type","disabled","readonly","minlength","maxlength","title","placeholder"],j=R({__name:"VInput",props:{model:null,type:{default:"text"},size:{default:"small"},format:{default:"date"},max:null,disabled:{type:Boolean},readOnly:{type:Boolean},minLength:null,maxLength:null,tooltip:null,placeholder:null,inputClass:null},emits:["update:model"],setup(t,{expose:x,emit:d}){const k=t,{size:V,inputClass:n,type:r,max:s,model:i,format:h,maxLength:w}=z(k),I=/[^0-9]/g,a=v(),o=v(!1),f=v(0);x({inputRef:a});const B=m(()=>r.value==="number"||r.value==="date"?"text":r.value),p=m(()=>{const e=[];switch(V.value){case"medium":e.push("h-9");break;case"large":e.push("h-10");break;default:e.push("h-8 text-sm");break}return n!=null&&n.value&&e.push(n==null?void 0:n.value),e.join(" ")});m(()=>{if(r.value==="date"&&h.value)switch(h.value){case"date":return"####-##-##";case"time":return"##:##:##";default:return"####-##-## ##:##:##"}}),G(()=>{a.value&&(i!=null&&i.value?(o.value=!0,a.value.value=i.value.toString()):(o.value=!1,a.value.value=""))});function C(e){const u=e.target,l=E(u.value);l?(o.value=!0,d("update:model",l)):(o.value=!1,d("update:model",void 0))}function E(e){switch(r.value){case"number":return L(e);default:return e}}function L(e){let u=e.replace(I,"");if(a.value)if(r.value==="number"){if(u){let l=Number(u);return s!=null&&s.value&&l>(s==null?void 0:s.value)?(a.value.value=f.value.toString(),l=f.value):f.value=l,l.toString()}return a.value.value="",""}else return a.value.value=u,u}function N(){var e;a.value&&(a.value.value="",d("update:model",void 0)),o.value=!1,(e=a.value)==null||e.focus()}return(e,u)=>{const l=F;return b(),g("div",{class:y(["relative",c(p)])},[O("input",{ref_key:"inputRef",ref:a,class:y(["disabled readonly focus w-full border border-slate-300 bg-white px-3 pr-7 placeholder-slate-400",c(p)]),type:c(B),disabled:t.disabled,readonly:t.readOnly,minlength:t.minLength,maxlength:c(w),title:t.tooltip,placeholder:t.placeholder,onInput:C},null,42,T),c(o)&&!t.disabled&&!t.readOnly?(b(),g("div",{key:0,class:"absolute inset-y-0 right-0 flex items-center pr-1",onClick:N},[S(l,{icon:"fa-times","icon-class":"opacity-60"})])):D("",!0)],2)}}});export{j as _};
